[{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 Rocky Mountain Institute Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/production-percent-change.html","id":"weighted-production","dir":"Articles","previous_headings":"","what":"Weighted Production","title":"Indicator Choices:","text":"intents purposes, recommend calculating targets using loan weighted production indicator. particular, define loan weighted production given company, jj : p¯,j(t)=pi,j(t)*lj∑jlj \\overline{p}_{,j}(t) = p_{,j}(t) * \\dfrac{l_j}{\\sum_j l_j} pi,jp_{,j} production company ii technology jj ljl_j loan given company jj. calculate portfolio targets, aggregate value summing every company portfolio: p¯(t)=∑j[pi,j(t)*lj∑jlj] \\overline{p}_i (t) = \\sum_j \\left[  p_{,j}(t) * \\dfrac{l_j}{\\sum_j l_j} \\right] Effectively, loan-weighted average production attributed company portfolio. significant result indicator choice small companies (little production) favorably weighted, given loan company sufficiently large. can useful reflect large investments green start-ups. calculate weighted production:","code":"library(r2dii.data) library(r2dii.match) library(r2dii.analysis) #>  #> Attaching package: 'r2dii.analysis' #> The following object is masked from 'package:r2dii.data': #>  #>     data_dictionary  master <- loanbook_demo %>%   match_name(abcd_demo) %>%   prioritize() %>%   join_abcd_scenario(     abcd = abcd_demo,     scenario = scenario_demo_2020,     region_isos = region_isos_demo,     add_green_technologies = FALSE   ) #> Warning: `join_abcd_scenario()` was deprecated in r2dii.analysis 0.5.0. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated.  summarize_weighted_production(master) #> Warning: `summarize_weighted_production()` was deprecated in r2dii.analysis 0.5.0. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated. #> # A tibble: 168 × 5 #>    sector_abcd technology  year weighted_production weighted_technology_share #>    <chr>       <chr>      <int>               <dbl>                     <dbl> #>  1 automotive  electric    2020             436948.                     0.481 #>  2 automotive  electric    2021             442439.                     0.480 #>  3 automotive  electric    2022             447929.                     0.480 #>  4 automotive  electric    2023             453420.                     0.479 #>  5 automotive  electric    2024             458910.                     0.479 #>  6 automotive  electric    2025             464401.                     0.479 #>  7 automotive  electric    2026                 NA                     NA     #>  8 automotive  electric    2027                 NA                     NA     #>  9 automotive  electric    2028                 NA                     NA     #> 10 automotive  electric    2029                 NA                     NA     #> # ℹ 158 more rows"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/production-percent-change.html","id":"weighted-percent-change-in-production","dir":"Articles","previous_headings":"","what":"Weighted Percent Change in Production","title":"Indicator Choices:","text":"-hand, ’re keen understand large corporations portfolio planning make significant changes, percent change production may useful indicator. company, define percent change, χi(t)\\chi_i(t), compared start year, t0t_0: χi(t)=pi(t)−pi(t0)pi(t0)*100 \\chi_i(t) =  \\dfrac{p_{}(t)-p_{}(t_0)}{p_i(t_0)} * 100 pi(t)p_i(t) indicator (production capacity) technology ii, t0t0 start year analysis. aggregate percent-change production company portfolio-level, using loan-weighted average . particular, loan ljl_j company jj, : χi¯=∑j[χi,j*lj∑jlj] \\overline{\\chi_i} = \\sum_j \\left[ \\chi_{,j} * \\dfrac{l_j}{\\sum_j l_j} \\right] noted percent change, χ\\chi, undefined 0 initial production. Intuitively, makes sense, since require “infinite percent” build-grow anything 0. reason, company 0 initial production filtered prior calculating percent change indicator. calculate weighted percent change:","code":"# using the master dataset defined in the previous chunk: summarize_weighted_percent_change(master) #> Warning: `summarize_weighted_percent_change()` was deprecated in r2dii.analysis 0.5.0. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated. #> # A tibble: 168 × 4 #>    sector_abcd technology  year weighted_percent_change #>    <chr>       <chr>      <int>                   <dbl> #>  1 automotive  electric    2020               0         #>  2 automotive  electric    2021               0.0000626 #>  3 automotive  electric    2022               0.000125  #>  4 automotive  electric    2023               0.000188  #>  5 automotive  electric    2024               0.000250  #>  6 automotive  electric    2025               0.000313  #>  7 automotive  electric    2026              NA         #>  8 automotive  electric    2027              NA         #>  9 automotive  electric    2028              NA         #> 10 automotive  electric    2029              NA         #> # ℹ 158 more rows"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"load-your-r2dii-libraries","dir":"Articles","previous_headings":"","what":"Load your r2dii libraries","title":"Introduction to r2dii.analysis","text":"first step analysis load recommended r2dii packages current R session. r2dii.data includes fake data help demonstrate tool r2dii.match provides functions help easily match loanbook asset-level data. plot results, may also load package r2dii.plot. also recommend packages tidyverse; optional useful.","code":"library(r2dii.data) library(r2dii.match) library(r2dii.analysis) #>  #> Attaching package: 'r2dii.analysis' #> The following object is masked from 'package:r2dii.data': #>  #>     data_dictionary library(r2dii.plot) library(tidyverse) #> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── #> ✔ dplyr     1.1.4     ✔ readr     2.1.5 #> ✔ forcats   1.0.0     ✔ stringr   1.5.1 #> ✔ ggplot2   3.5.1     ✔ tibble    3.2.1 #> ✔ lubridate 1.9.4     ✔ tidyr     1.3.1 #> ✔ purrr     1.0.4      #> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── #> ✖ dplyr::filter() masks stats::filter() #> ✖ dplyr::lag()    masks stats::lag() #> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"match-your-loanbook-to-climate-related-asset-level-data","dir":"Articles","previous_headings":"","what":"Match your loanbook to climate-related asset-level data","title":"Introduction to r2dii.analysis","text":"See r2dii.match complete description process.","code":"# Use these datasets to practice but eventually you should use your own data. # The optional syntax `package::data` is to clarify where the data comes from. loanbook <- r2dii.data::loanbook_demo abcd <- r2dii.data::abcd_demo  matched <- match_name(loanbook, abcd) %>% prioritize()  matched #> # A tibble: 177 × 22 #>    id_loan id_direct_loantaker name_direct_loantaker          id_ultimate_parent #>    <chr>   <chr>               <chr>                          <chr>              #>  1 L6      C304                Kassulke-Kassulke              UP83               #>  2 L13     C297                Ladeck                         UP69               #>  3 L20     C287                Weinhold                       UP35               #>  4 L21     C286                Gallo Group                    UP63               #>  5 L22     C285                Austermuhle GmbH               UP187              #>  6 L24     C282                Ferraro-Ferraro Group          UP209              #>  7 L25     C281                Lockman, Lockman and Lockman   UP296              #>  8 L26     C280                Ankunding, Ankunding and Anku… UP67               #>  9 L27     C278                Donati-Donati Group            UP45               #> 10 L28     C276                Ferraro, Ferraro e Ferraro SPA UP195              #> # ℹ 167 more rows #> # ℹ 18 more variables: name_ultimate_parent <chr>, loan_size_outstanding <dbl>, #> #   loan_size_outstanding_currency <chr>, loan_size_credit_limit <dbl>, #> #   loan_size_credit_limit_currency <chr>, sector_classification_system <chr>, #> #   sector_classification_direct_loantaker <chr>, lei_direct_loantaker <chr>, #> #   isin_direct_loantaker <chr>, id_2dii <chr>, level <chr>, sector <chr>, #> #   sector_abcd <chr>, name <chr>, name_abcd <chr>, score <dbl>, …"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"calculate-targets","dir":"Articles","previous_headings":"","what":"Calculate targets","title":"Introduction to r2dii.analysis","text":"can calculate scenario targets using two different approaches: Market Share Approach, Sectoral Decarbonization Approach.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"market-share-approach","dir":"Articles","previous_headings":"Calculate targets","what":"Market Share Approach","title":"Introduction to r2dii.analysis","text":"Market Share Approach used calculate scenario targets production technology sector. example, can use approach set targets production electric vehicles automotive sector. approach recommended sectors granular technology scenario roadmap exists. Targets can set portfolio level: company level:","code":"# Use these datasets to practice but eventually you should use your own data. scenario <- r2dii.data::scenario_demo_2020 regions <- r2dii.data::region_isos_demo  market_share_targets_portfolio <- matched %>%   target_market_share(     abcd = abcd,     scenario = scenario,     region_isos = regions   )  market_share_targets_portfolio #> # A tibble: 1,076 × 10 #>    sector     technology  year region scenario_source metric     production #>    <chr>      <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 automotive electric    2020 global demo_2020       projected     145649. #>  2 automotive electric    2020 global demo_2020       target_cps    145649. #>  3 automotive electric    2020 global demo_2020       target_sds    145649. #>  4 automotive electric    2020 global demo_2020       target_sps    145649. #>  5 automotive electric    2021 global demo_2020       projected     147480. #>  6 automotive electric    2021 global demo_2020       target_cps    146915. #>  7 automotive electric    2021 global demo_2020       target_sds    153332. #>  8 automotive electric    2021 global demo_2020       target_sps    147258. #>  9 automotive electric    2022 global demo_2020       projected     149310. #> 10 automotive electric    2022 global demo_2020       target_cps    148155. #> # ℹ 1,066 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl> market_share_targets_company <- matched %>%   target_market_share(     abcd = abcd,     scenario = scenario,     region_isos = regions,     # Output results at company-level.     by_company = TRUE    ) #> Warning: You've supplied `by_company = TRUE` and `weight_production = TRUE`. #> This will result in company-level results, weighted by the portfolio #> loan size, which is rarely useful. Did you mean to set one of these #> arguments to `FALSE`?  market_share_targets_company #> # A tibble: 14,505 × 11 #>    sector    technology  year region scenario_source name_abcd metric production #>    <chr>     <chr>      <int> <chr>  <chr>           <chr>     <chr>       <dbl> #>  1 automoti… electric    2020 global demo_2020       Bernardi… proje…     17951. #>  2 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  3 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  4 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  5 automoti… electric    2020 global demo_2020       Christia… proje…     11471. #>  6 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  7 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  8 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  9 automoti… electric    2020 global demo_2020       Donati, … proje…      5611. #> 10 automoti… electric    2020 global demo_2020       Donati, … targe…      5611. #> # ℹ 14,495 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"sectoral-decarbonization-approach","dir":"Articles","previous_headings":"Calculate targets","what":"Sectoral Decarbonization Approach","title":"Introduction to r2dii.analysis","text":"Sectoral Decarbonization Approach used calculate scenario targets emission_factor sector. example, can use approach set targets average emission factor cement sector. approach recommended sectors lacking technology roadmaps.","code":"# Use this dataset to practice but eventually you should use your own data. co2 <- r2dii.data::co2_intensity_scenario_demo  sda_targets <- matched %>%   target_sda(abcd = abcd, co2_intensity_scenario = co2, region_isos = regions) %>%    filter(sector == \"cement\", year >= 2020) #> Warning: Removing rows in abcd where `emission_factor` is NA  sda_targets #> # A tibble: 110 × 6 #>    sector  year region             scenario_source emission_factor_metric #>    <chr>  <dbl> <chr>              <chr>           <chr>                  #>  1 cement  2020 advanced economies demo_2020       projected              #>  2 cement  2020 developing asia    demo_2020       projected              #>  3 cement  2020 global             demo_2020       projected              #>  4 cement  2021 advanced economies demo_2020       projected              #>  5 cement  2021 developing asia    demo_2020       projected              #>  6 cement  2021 global             demo_2020       projected              #>  7 cement  2022 advanced economies demo_2020       projected              #>  8 cement  2022 developing asia    demo_2020       projected              #>  9 cement  2022 global             demo_2020       projected              #> 10 cement  2023 advanced economies demo_2020       projected              #> # ℹ 100 more rows #> # ℹ 1 more variable: emission_factor_value <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"visualization","dir":"Articles","previous_headings":"","what":"Visualization","title":"Introduction to r2dii.analysis","text":"large variety possible visualizations stemming outputs target_market_share() target_sda(). , highlight couple common plots can easily created using r2dii.plot package.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"market-share-sector-level-technology-mix","dir":"Articles","previous_headings":"Visualization","what":"Market Share: Sector-level technology mix","title":"Introduction to r2dii.analysis","text":"market share output, can plot portfolio’s exposure various climate sensitive technologies (projected), compare corporate economy, various scenario targets.","code":"# Pick the targets you want to plot. data <- filter(   market_share_targets_portfolio,   scenario_source == \"demo_2020\",   sector == \"power\",   region == \"global\",   metric %in% c(\"projected\", \"corporate_economy\", \"target_sds\") )  # Plot the technology mix qplot_techmix(data) #> The `technology_share` values are plotted for extreme years. #> Do you want to plot different years? E.g. filter . with:`subset(., year %in% c(2020, 2030))`. #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_bar()`)."},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"market-share-technology-level-volume-trajectory","dir":"Articles","previous_headings":"Visualization","what":"Market Share: Technology-level volume trajectory","title":"Introduction to r2dii.analysis","text":"can also plot technology-specific volume trend. starting values normalized 1, emphasize comparing rates buildout /retirement.","code":"data <- filter(   market_share_targets_portfolio,   sector == \"power\",   technology == \"renewablescap\",   region == \"global\",   scenario_source == \"demo_2020\" )  qplot_trajectory(data)"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/r2dii-analysis.html","id":"sda-target","dir":"Articles","previous_headings":"Visualization","what":"SDA Target","title":"Introduction to r2dii.analysis","text":"SDA output, can compare projected average emission intensity attributed portfolio, actual emission intensity scenario, scenario compliant SDA pathway portfolio must follow achieve scenario ambition 2050.","code":"data <- filter(sda_targets, sector == \"cement\", region == \"global\") qplot_emission_intensity(data)"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-market-share.html","id":"scenario-market-shares","dir":"Articles","previous_headings":"","what":"Scenario market-shares","title":"Market Share Approach","text":"Say want study portfolio perform specific climate scenario. can allocate scenario efforts production profile portfolio? can two ways – technology, sector.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-market-share.html","id":"market-share-by-technology","dir":"Articles","previous_headings":"Scenario market-shares","what":"1. Market-share by technology","title":"Market Share Approach","text":"define market-share technology : pitmsr(t)=pi(t0)+pi(t0)*si(t)−si(t0)si(t0)p_{}^{tmsr}(t) = p_{}(t_{0}) +  p_{}(t_{0}) * \\frac{s_i(t) - s_{}(t_0)}{s_i(t_0)} can see reduces : $$p_{}^{tmsr}(t) = p_{}(t_{0}) \\left(1 + \\frac{s_i(t) - s_{}(t_0)}{s_i(t_0)} \\right) \\\\ p_{}^{tmsr}(t) = p_{}(t_{0}) \\left(1 + \\frac{s_i(t)}{s_i(t_0)} -1 \\right) \\\\ p_{}^{tmsr}(t) = p_{}(t_{0}) * \\frac{s_i(t)}{s_i(t_0)}$$ : si(t)s_i(t) scenario production technology ii time tt, pi(t0)p_{}(t_0) production allocated portfolio technology, ii time t0t_0, pitmsr(t)p_{}^{tmsr}(t) portfolio-specific target production technology. define “Technology Market Share Ratio” : si(t)si(t0)\\dfrac{s_i(t)}{s_i(t_0)} method used set targets “decreasing” (ie. brown) technologies.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-market-share.html","id":"market-share-by-sector","dir":"Articles","previous_headings":"Scenario market-shares","what":"2. Market-share by sector","title":"Market Share Approach","text":"calculate market-share sector, use initial production portfolio scenario sector-level instead. pismsp(t)=pi(t0)+P(t0)*(si(t)−si(t0)S(t0))p_{}^{smsp}(t) = p_{}(t_0) +P(t_0) * \\left( \\dfrac{s_i(t)-s_i(t_0)}{S(t_0)}\\right) : Pi(t0)P_i(t_0) portfolio’s total production sector t0t_0, S(t0)S(t_0) scenario total production t0t_0. define “Sector Market Share Percentage” : si(t)−si(t0)S(t0)\\dfrac{s_i(t)-s_i(t_0)}{S(t_0)} method used calculate targets “increasing” (ie. green) technologies.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-market-share.html","id":"how-to-calculate-market-share-targets-for-a-given-scenario","dir":"Articles","previous_headings":"","what":"How to calculate market-share targets for a given scenario","title":"Market Share Approach","text":"calculate market-share targets, need use package r2dii.analysis number datasets. One datasets “matched” dataset (loanbook + asset-level data) can get package r2dii.match. datasets use come package r2dii.data; fake show structure data. Use packages. Match loanbook asset level data. Calculate market-share targets production portfolio level. Calculate market-share targets production company level.","code":"library(r2dii.data) library(r2dii.match) library(r2dii.analysis) #>  #> Attaching package: 'r2dii.analysis' #> The following object is masked from 'package:r2dii.data': #>  #>     data_dictionary loanbook <- r2dii.data::loanbook_demo abcd <- r2dii.data::abcd_demo  matched <- match_name(loanbook, abcd) %>%   # WARNING: Remember to validate the output of match_name() before prioritize()   prioritize()  matched #> # A tibble: 177 × 22 #>    id_loan id_direct_loantaker name_direct_loantaker          id_ultimate_parent #>    <chr>   <chr>               <chr>                          <chr>              #>  1 L6      C304                Kassulke-Kassulke              UP83               #>  2 L13     C297                Ladeck                         UP69               #>  3 L20     C287                Weinhold                       UP35               #>  4 L21     C286                Gallo Group                    UP63               #>  5 L22     C285                Austermuhle GmbH               UP187              #>  6 L24     C282                Ferraro-Ferraro Group          UP209              #>  7 L25     C281                Lockman, Lockman and Lockman   UP296              #>  8 L26     C280                Ankunding, Ankunding and Anku… UP67               #>  9 L27     C278                Donati-Donati Group            UP45               #> 10 L28     C276                Ferraro, Ferraro e Ferraro SPA UP195              #> # ℹ 167 more rows #> # ℹ 18 more variables: name_ultimate_parent <chr>, loan_size_outstanding <dbl>, #> #   loan_size_outstanding_currency <chr>, loan_size_credit_limit <dbl>, #> #   loan_size_credit_limit_currency <chr>, sector_classification_system <chr>, #> #   sector_classification_direct_loantaker <chr>, lei_direct_loantaker <chr>, #> #   isin_direct_loantaker <chr>, id_2dii <chr>, level <chr>, sector <chr>, #> #   sector_abcd <chr>, name <chr>, name_abcd <chr>, score <dbl>, … # portfolio level targets scenario <- r2dii.data::scenario_demo_2020 regions <- r2dii.data::region_isos_demo   matched %>% target_market_share(abcd, scenario, regions) #> # A tibble: 1,076 × 10 #>    sector     technology  year region scenario_source metric     production #>    <chr>      <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 automotive electric    2020 global demo_2020       projected     145649. #>  2 automotive electric    2020 global demo_2020       target_cps    145649. #>  3 automotive electric    2020 global demo_2020       target_sds    145649. #>  4 automotive electric    2020 global demo_2020       target_sps    145649. #>  5 automotive electric    2021 global demo_2020       projected     147480. #>  6 automotive electric    2021 global demo_2020       target_cps    146915. #>  7 automotive electric    2021 global demo_2020       target_sds    153332. #>  8 automotive electric    2021 global demo_2020       target_sps    147258. #>  9 automotive electric    2022 global demo_2020       projected     149310. #> 10 automotive electric    2022 global demo_2020       target_cps    148155. #> # ℹ 1,066 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl> matched %>% target_market_share(abcd, scenario, regions, by_company = TRUE) #> Warning: You've supplied `by_company = TRUE` and `weight_production = TRUE`. #> This will result in company-level results, weighted by the portfolio #> loan size, which is rarely useful. Did you mean to set one of these #> arguments to `FALSE`? #> # A tibble: 14,505 × 11 #>    sector    technology  year region scenario_source name_abcd metric production #>    <chr>     <chr>      <int> <chr>  <chr>           <chr>     <chr>       <dbl> #>  1 automoti… electric    2020 global demo_2020       Bernardi… proje…     17951. #>  2 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  3 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  4 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  5 automoti… electric    2020 global demo_2020       Christia… proje…     11471. #>  6 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  7 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  8 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  9 automoti… electric    2020 global demo_2020       Donati, … proje…      5611. #> 10 automoti… electric    2020 global demo_2020       Donati, … targe…      5611. #> # ℹ 14,495 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-sda.html","id":"sda-methodology","dir":"Articles","previous_headings":"","what":"SDA Methodology","title":"Sectoral Decarbonization Approach (SDA)","text":"Sectoral Decarbonization Approach (SDA) method setting corporate CO2 emissions intensity reduction targets line climate science. method developed Science-Based Targets Initiative (SBTI), international initiative science-based target setting companies initiated CDP, United Nations Global Compact, World Resources Institute (WRI), Worldwide Fund Nature (WWF). context PACTA, methodology used calculate emission factor targets homogenous sectors (.e. sectors technology-level scenario pathways). First, distance, dd, company’s CO2 emissions intensity per unit production (emissions factor), ICo(t)^{Co}(t) base year, t0t_0, scenario target intensity 2050, ISc(2050)^{Sc}(2050) calculated. target intensity 2050 can taken relevant climate scenario: d=ICo(t0)−ISc(2050)d = ^{Co}(t_0) - ^{Sc}(2050) company’s market share parameter, m(t)m(t), defined company’s expected future activity, PCo(t)P^{Co}(t) divided sector’s future activity, PSc(t)P^{Sc}(t) reflect expected forward-looking market share company. given ratio company’s base year market share, derived activity, PCo(t0)P^{Co}(t_0) divided sector’s activity year, PSc(t0)P^{Sc}(t_0). cases former calculated per company, latter determined climate scenario: m(t)=PCo(t0)/PSc(t0)PCo(t)/PSc(t)m (t) = \\dfrac{P^{Co}(t_0) / P^{Sc}(t_0)}{P^{Co}(t) / P^{Sc}(t)} noted parameter capture change market share company rather inverse. useful equates decreasing parameter company’s market share increasing. equates larger reduction efforts companies market share increasing time. sector decarbonization factor, p(t)p(t) defined : p(t)=ISc(t)−ISc(2050)ISc(t0)−ISc(2050) p(t) = \\frac{^{Sc}(t) - ^{Sc}(2050)}{^{Sc}(t_0) - ^{Sc}(2050)} Iin(t)^{}(t) ISc(t)^{Sc}(t) average market scenario emission intensities respectively, time tt. variable captures remaining effort needed market meet target 2050, per year. SDA assumptions CO2 intensity companies sector converge 2050. Note p(t0)=1p(t_0) = 1 p(2050)=0p(2050) = 0, indicating 100% expected decarbonization efforts still met base year 0% left 2050. company-level emission intensity target defined : ITarget(t)=(d*p(t)*m(t))+ISc(2050)^{Target}(t) = \\left( d * p (t) * m (t) \\right) + ^{Sc}(2050)","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-sda.html","id":"pacta-assumptions","dir":"Articles","previous_headings":"","what":"PACTA Assumptions","title":"Sectoral Decarbonization Approach (SDA)","text":"SDA applied PACTA differs slightly way applied SBTI. particular, must align top-approach laid climate scenarios bottom-asset-based company data used PACTA analysis. Assumption: Market share stays constant (m(t)m(t) = 1) Due lack quantitative data expected market share changes throughout entire time horizon 2050. m(t)m(t) set 1 years. SBTI method calculating m(t)m(t), higher intensity reduction target cases absolute pathway sector exceeds scenario target. makes sense. However, applying company level counter-intuitive: Companies decrease market share allowed higher CO2-Intensity average market actor. , companies increasing market share forced terms CO2-Intensity ones whose market share remains constant. follows company reaches targeted CO2-Intensity allowed increase share market. desirable outcome. assumption, target calculation reduces : ITarget(t)=(d*p(t))+ISc(2050)^{Target}(t) = \\left( d * p (t) \\right) + ^{Sc}(2050) Approximation: Adjust base year scenario emission intensity SBTI PACTA methodology target emissions sector taken climate scenarios. implement global economy top-approach applies absolute emissions value year 2050 converts yearly emission intensities. However, may discrepancies Scenario projected emission intensities, bottom-ABCD emission intensities. reflect discrepancy, adjust scenario projections following factor, IABCD(t0)ISc(t0)\\dfrac{^{ABCD}(t_0)}{^{Sc}(t_0)} yielding adjusted scenario pathway: ′Sc(t)=(IABCD(t0)ISc(t0))*ISc(t)'^{Sc}(t) = \\left(\\dfrac{^{ABCD}(t_0)}{^{Sc}(t_0)}\\right) * ^{Sc}(t) yields final PACTA SDA target equation: ITarget(t)=(d*p(t))+′Sc(t)^{Target}(t) = \\left( d * p (t) \\right) + '^{Sc}(t) Note: dd p(t)p(t) also must re-calculated using adjusted scenario intensity, ′ScI'^{Sc}.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/articles/target-sda.html","id":"calculating-sda-targets","dir":"Articles","previous_headings":"","what":"Calculating SDA Targets","title":"Sectoral Decarbonization Approach (SDA)","text":"calculate SDA targets need use package r2dii.analysis number datasets, including “matched” dataset (loanbook + asset-level data) can get package r2dii.match. datasets use come package r2dii.data; fake show structure data. Use packages. Match loanbook asset level data. Calculate SDA targets CO2 emissions intensities:","code":"library(r2dii.data) library(r2dii.match) library(r2dii.analysis) #>  #> Attaching package: 'r2dii.analysis' #> The following object is masked from 'package:r2dii.data': #>  #>     data_dictionary loanbook <- r2dii.data::loanbook_demo abcd <- r2dii.data::abcd_demo  matched <- match_name(loanbook, abcd) %>%   # WARNING: Remember to validate the output of match_name() before prioritize()   prioritize()  matched #> # A tibble: 177 × 22 #>    id_loan id_direct_loantaker name_direct_loantaker          id_ultimate_parent #>    <chr>   <chr>               <chr>                          <chr>              #>  1 L6      C304                Kassulke-Kassulke              UP83               #>  2 L13     C297                Ladeck                         UP69               #>  3 L20     C287                Weinhold                       UP35               #>  4 L21     C286                Gallo Group                    UP63               #>  5 L22     C285                Austermuhle GmbH               UP187              #>  6 L24     C282                Ferraro-Ferraro Group          UP209              #>  7 L25     C281                Lockman, Lockman and Lockman   UP296              #>  8 L26     C280                Ankunding, Ankunding and Anku… UP67               #>  9 L27     C278                Donati-Donati Group            UP45               #> 10 L28     C276                Ferraro, Ferraro e Ferraro SPA UP195              #> # ℹ 167 more rows #> # ℹ 18 more variables: name_ultimate_parent <chr>, loan_size_outstanding <dbl>, #> #   loan_size_outstanding_currency <chr>, loan_size_credit_limit <dbl>, #> #   loan_size_credit_limit_currency <chr>, sector_classification_system <chr>, #> #   sector_classification_direct_loantaker <chr>, lei_direct_loantaker <chr>, #> #   isin_direct_loantaker <chr>, id_2dii <chr>, level <chr>, sector <chr>, #> #   sector_abcd <chr>, name <chr>, name_abcd <chr>, score <dbl>, … co2_intensity <- r2dii.data::co2_intensity_scenario_demo  matched %>% target_sda(abcd, co2_intensity) #> Warning: Removing rows in abcd where `emission_factor` is NA #> Warning: Found no matching regions for input scenario #> # A tibble: 0 × 4 #> # ℹ 4 variables: sector <chr>, year <int>, emission_factor_metric <chr>, #> #   emission_factor_value <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Kastl. Author, maintainer, contractor. Alex Axthelm. Author, contractor. Jackson Hoffart. Author, contractor. Mauro Lepore. Author, contractor. Klaus Hogedorn. Author. Nicky Halterman. Author. . Copyright holder, funder.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kastl J, Axthelm , Hoffart J, Lepore M, Hogedorn K, Halterman N (2025). r2dii.analysis: Measure Climate Scenario Alignment Corporate Loans. R package version 0.4.0.9004, https://github.com/RMI-PACTA/r2dii.analysis, https://rmi-pacta.github.io/r2dii.analysis/.","code":"@Manual{,   title = {r2dii.analysis: Measure Climate Scenario Alignment of Corporate Loans},   author = {Jacob Kastl and Alex Axthelm and Jackson Hoffart and Mauro Lepore and Klaus Hogedorn and Nicky Halterman},   year = {2025},   note = {R package version 0.4.0.9004,     https://github.com/RMI-PACTA/r2dii.analysis},   url = {https://rmi-pacta.github.io/r2dii.analysis/}, }"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/index.html","id":"r2diianalysis-","dir":"","previous_headings":"","what":"Measure Climate Scenario Alignment of Corporate Loans","title":"Measure Climate Scenario Alignment of Corporate Loans","text":"tools help assess financial portfolio aligns climate goals. summarize key metrics attributed portfolio (e.g. production, emission factors), calculate targets based climate scenarios. implement R last step free software ‘PACTA’ (Paris Agreement Capital Transition Assessment; https://www.transitionmonitor.com/). Financial institutions use ‘PACTA’ study capital allocation impacts climate.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Measure Climate Scenario Alignment of Corporate Loans","text":"Install released version r2dii.analysis CRAN : install development version r2dii.analysis GitHub :","code":"install.packages(\"r2dii.analysis\") # install.packages(\"pak\") pak::pak(\"RMI-PACTA/r2dii.analysis\")"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Measure Climate Scenario Alignment of Corporate Loans","text":"Use library() attach packages need. r2dii.analysis depend packages r2dii.data r2dii.match; suggest install – install.packages(c(\"r2dii.data\", \"r2dii.match\")) – can reproduce examples. Use r2dii.match::match_name() identify matches loanbook asset level data.","code":"library(r2dii.data) library(r2dii.match) library(r2dii.analysis) matched <- match_name(loanbook_demo, abcd_demo) %>%   prioritize()"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/index.html","id":"add-scenario-targets","dir":"","previous_headings":"Example","what":"Add Scenario Targets","title":"Measure Climate Scenario Alignment of Corporate Loans","text":"Use target_sda() calculate SDA targets CO2 emissions. Use target_market_share calculate market-share scenario targets portfolio level: company level: Get started.","code":"matched %>%   target_sda(     abcd = abcd_demo,     co2_intensity_scenario = co2_intensity_scenario_demo,     region_isos = region_isos_demo   ) #> Warning: Removing rows in abcd where `emission_factor` is NA #> # A tibble: 220 × 6 #>    sector  year region             scenario_source emission_factor_metric #>    <chr>  <dbl> <chr>              <chr>           <chr>                  #>  1 cement  2020 advanced economies demo_2020       projected              #>  2 cement  2020 developing asia    demo_2020       projected              #>  3 cement  2020 global             demo_2020       projected              #>  4 cement  2021 advanced economies demo_2020       projected              #>  5 cement  2021 developing asia    demo_2020       projected              #>  6 cement  2021 global             demo_2020       projected              #>  7 cement  2022 advanced economies demo_2020       projected              #>  8 cement  2022 developing asia    demo_2020       projected              #>  9 cement  2022 global             demo_2020       projected              #> 10 cement  2023 advanced economies demo_2020       projected              #> # ℹ 210 more rows #> # ℹ 1 more variable: emission_factor_value <dbl> matched %>%   target_market_share(     abcd = abcd_demo,     scenario = scenario_demo_2020,     region_isos = region_isos_demo   ) #> # A tibble: 1,076 × 10 #>    sector     technology  year region scenario_source metric     production #>    <chr>      <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 automotive electric    2020 global demo_2020       projected     145649. #>  2 automotive electric    2020 global demo_2020       target_cps    145649. #>  3 automotive electric    2020 global demo_2020       target_sds    145649. #>  4 automotive electric    2020 global demo_2020       target_sps    145649. #>  5 automotive electric    2021 global demo_2020       projected     147480. #>  6 automotive electric    2021 global demo_2020       target_cps    146915. #>  7 automotive electric    2021 global demo_2020       target_sds    153332. #>  8 automotive electric    2021 global demo_2020       target_sps    147258. #>  9 automotive electric    2022 global demo_2020       projected     149310. #> 10 automotive electric    2022 global demo_2020       target_cps    148155. #> # ℹ 1,066 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl> matched %>%   target_market_share(     abcd = abcd_demo,     scenario = scenario_demo_2020,     region_isos = region_isos_demo,     by_company = TRUE   ) #> Warning: You've supplied `by_company = TRUE` and `weight_production = TRUE`. #> This will result in company-level results, weighted by the portfolio #> loan size, which is rarely useful. Did you mean to set one of these #> arguments to `FALSE`? #> # A tibble: 14,505 × 11 #>    sector    technology  year region scenario_source name_abcd metric production #>    <chr>     <chr>      <int> <chr>  <chr>           <chr>     <chr>       <dbl> #>  1 automoti… electric    2020 global demo_2020       Bernardi… proje…     17951. #>  2 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  3 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  4 automoti… electric    2020 global demo_2020       Bernardi… targe…     17951. #>  5 automoti… electric    2020 global demo_2020       Christia… proje…     11471. #>  6 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  7 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  8 automoti… electric    2020 global demo_2020       Christia… targe…     11471. #>  9 automoti… electric    2020 global demo_2020       Donati, … proje…      5611. #> 10 automoti… electric    2020 global demo_2020       Donati, … targe…      5611. #> # ℹ 14,495 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/index.html","id":"funding","dir":"","previous_headings":"","what":"Funding","title":"Measure Climate Scenario Alignment of Corporate Loans","text":"project received funding European Union LIFE program International Climate Initiative (IKI). Federal Ministry Environment, Nature Conservation Nuclear Safety (BMU) supports initiative basis decision adopted German Bundestag. views expressed sole responsibility authors necessarily reflect views funders. funders responsible use may made information contains.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/data_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Dictionary — data_dictionary","title":"Data Dictionary — data_dictionary","text":"table column names descriptions data frames used exported functions package.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/data_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Dictionary — data_dictionary","text":"","code":"data_dictionary"},{"path":[]},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/data_dictionary.html","id":"data-dictionary","dir":"Reference","previous_headings":"","what":"data_dictionary","title":"Data Dictionary — data_dictionary","text":"dataset Name dataset column Name column typeof Type column definition Definition column","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/data_dictionary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Dictionary — data_dictionary","text":"","code":"data_dictionary #> # A tibble: 47 × 4 #>    dataset                   column                          typeof   definition #>    <chr>                     <chr>                           <chr>    <lgl>      #>  1 join_abcd_scenario_output emission_factor                 double   NA         #>  2 join_abcd_scenario_output id_2dii                         charact… NA         #>  3 join_abcd_scenario_output id_loan                         charact… NA         #>  4 join_abcd_scenario_output is_ultimate_owner               logical  NA         #>  5 join_abcd_scenario_output level                           charact… NA         #>  6 join_abcd_scenario_output loan_size_credit_limit          double   NA         #>  7 join_abcd_scenario_output loan_size_credit_limit_currency charact… NA         #>  8 join_abcd_scenario_output loan_size_outstanding           double   NA         #>  9 join_abcd_scenario_output loan_size_outstanding_currency  charact… NA         #> 10 join_abcd_scenario_output name_abcd                       charact… NA         #> # ℹ 37 more rows"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/join_abcd_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"Join a data-loanbook object to the abcd and scenario — join_abcd_scenario","title":"Join a data-loanbook object to the abcd and scenario — join_abcd_scenario","text":"function deprecated required user-facing function PACTA Banks. still used internally though. relevant outputs PACTA Banks analysis can obtained using target_market_share() target_sda() functions. join_abcd_scenario() simple wrapper several calls dplyr::join_*(), forming master dataset used later steps analysis.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/join_abcd_scenario.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Join a data-loanbook object to the abcd and scenario — join_abcd_scenario","text":"","code":"join_abcd_scenario(   data,   abcd,   scenario,   region_isos = r2dii.data::region_isos,   add_green_technologies = FALSE )"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/join_abcd_scenario.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Join a data-loanbook object to the abcd and scenario — join_abcd_scenario","text":"data data frame like output r2dii.match::prioritize. abcd asset level data frame like r2dii.data::abcd_demo. scenario scenario data frame like r2dii.data::scenario_demo_2020. region_isos data frame like r2dii.data::region_isos (default). add_green_technologies Logical vector length 1. FALSE defaults outputting technologies present data abcd. Set FALSE add rows possible green technologies (0 production).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/join_abcd_scenario.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Join a data-loanbook object to the abcd and scenario — join_abcd_scenario","text":"Returns fully joined data frame, linking portfolio, abcd scenario.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/join_abcd_scenario.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Join a data-loanbook object to the abcd and scenario — join_abcd_scenario","text":"","code":"library(r2dii.data) #>  #> Attaching package: ‘r2dii.data’ #> The following object is masked from ‘package:r2dii.analysis’: #>  #>     data_dictionary library(r2dii.match)  valid_matches <- match_name(loanbook_demo, abcd_demo) %>% # WARNING: Remember to validate matches (see `?prioritize`)   prioritize()  valid_matches %>%   join_abcd_scenario(   abcd = abcd_demo,   scenario = scenario_demo_2020,   region_isos = region_isos_demo   ) #> Warning: `join_abcd_scenario()` was deprecated in r2dii.analysis 0.5.0. #> # A tibble: 14,592 × 37 #>    id_loan id_direct_loantaker name_direct_loantaker id_ultimate_parent #>    <chr>   <chr>               <chr>                 <chr>              #>  1 L6      C304                Kassulke-Kassulke     UP83               #>  2 L6      C304                Kassulke-Kassulke     UP83               #>  3 L6      C304                Kassulke-Kassulke     UP83               #>  4 L6      C304                Kassulke-Kassulke     UP83               #>  5 L6      C304                Kassulke-Kassulke     UP83               #>  6 L6      C304                Kassulke-Kassulke     UP83               #>  7 L6      C304                Kassulke-Kassulke     UP83               #>  8 L6      C304                Kassulke-Kassulke     UP83               #>  9 L6      C304                Kassulke-Kassulke     UP83               #> 10 L6      C304                Kassulke-Kassulke     UP83               #> # ℹ 14,582 more rows #> # ℹ 33 more variables: name_ultimate_parent <chr>, loan_size_outstanding <dbl>, #> #   loan_size_outstanding_currency <chr>, loan_size_credit_limit <dbl>, #> #   loan_size_credit_limit_currency <chr>, sector_classification_system <chr>, #> #   sector_classification_direct_loantaker <chr>, lei_direct_loantaker <chr>, #> #   isin_direct_loantaker <chr>, id_2dii <chr>, level <chr>, sector <chr>, #> #   sector_abcd <chr>, name <chr>, name_abcd <chr>, score <dbl>, …"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/r2dii.analysis-package.html","id":null,"dir":"Reference","previous_headings":"","what":"r2dii.analysis: Measure Climate Scenario Alignment of Corporate Loans — r2dii.analysis-package","title":"r2dii.analysis: Measure Climate Scenario Alignment of Corporate Loans — r2dii.analysis-package","text":"tools help assess corporate lending portfolio aligns climate goals. summarize key climate indicators attributed portfolio (e.g. production, emission factors), calculate alignment targets based climate scenarios. implement R last step free software 'PACTA' (Paris Agreement Capital Transition Assessment; https://www.transitionmonitor.com/). Financial institutions use 'PACTA' study capital allocation decisions align climate change mitigation goals.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/r2dii.analysis-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"r2dii.analysis: Measure Climate Scenario Alignment of Corporate Loans — r2dii.analysis-package","text":"Maintainer: Jacob Kastl jacob.kastl@gmail.com (ORCID) [contractor] Authors: Alex Axthelm aaxthelm@rmi.org (ORCID) [contractor] Jackson Hoffart jackson.hoffart@gmail.com (ORCID) [contractor] Mauro Lepore maurolepore@gmail.com (ORCID) [contractor] Klaus Hogedorn klaus@2degrees-investing.org Nicky Halterman nicholas..halterman@gmail.com contributors: RMI PACTA4banks@rmi.org [copyright holder, funder]","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/summarize_weighted_production.html","id":null,"dir":"Reference","previous_headings":"","what":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","title":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","text":"functions (summarize_weighted_production() summarize_weighted_percent_change()) deprecated required user-facing function PACTA Banks. still used internally though. relevant outputs PACTA Banks analysis can obtained using target_market_share() target_sda() functions. Based weight loan per sector per year, summarize_weighted_production() summarize_weighted_percent_change() summarize production percent-change, respectively.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/summarize_weighted_production.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","text":"","code":"summarize_weighted_production(data, ..., use_credit_limit = FALSE)  summarize_weighted_percent_change(data, ..., use_credit_limit = FALSE)"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/summarize_weighted_production.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","text":"data data frame like output join_abcd_scenario(). ... Variables group . use_credit_limit Logical vector length 1. FALSE defaults using column loan_size_outstanding. Set TRUE instead use column loan_size_credit_limit.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/summarize_weighted_production.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","text":"tibble groups input () columns: sector, technology, year; weighted_production weighted_production summarize_weighted_production() summarize_weighted_percent_change(), respectively.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/summarize_weighted_production.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","text":"percent-change analysis excludes companies 0 production. percent-change undefined companies initial production; including companies cause percent-change percentage infinite, wrong.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/summarize_weighted_production.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summaries based on the weight of each loan per sector per year — summarize_weighted_production","text":"","code":"library(r2dii.data) library(r2dii.match)  loanbook <- head(loanbook_demo, 150) abcd <- head(abcd_demo, 100) master <- loanbook %>%   match_name(abcd) %>%   prioritize() %>%   join_abcd_scenario(     abcd = abcd,     scenario = scenario_demo_2020,     region_isos = region_isos_demo     ) %>%   dplyr::filter(production != 0)  summarize_weighted_production(master) #> Warning: `summarize_weighted_production()` was deprecated in r2dii.analysis 0.5.0. #> # A tibble: 12 × 5 #>    sector_abcd technology     year weighted_production weighted_technology_share #>    <chr>       <chr>         <int>               <dbl>                     <dbl> #>  1 power       hydrocap       2020              50971.                     0.421 #>  2 power       hydrocap       2021              50230.                     0.421 #>  3 power       hydrocap       2022              49490.                     0.421 #>  4 power       hydrocap       2023              48749.                     0.421 #>  5 power       hydrocap       2024              48009.                     0.421 #>  6 power       hydrocap       2025              47268.                     0.421 #>  7 power       renewablescap  2020              61070.                     3.35  #>  8 power       renewablescap  2021              61103.                     3.35  #>  9 power       renewablescap  2022              61137.                     3.35  #> 10 power       renewablescap  2023              61170.                     3.35  #> 11 power       renewablescap  2024              61204.                     3.35  #> 12 power       renewablescap  2025              42533.                     2.85   summarize_weighted_production(master, use_credit_limit = TRUE) #> # A tibble: 12 × 5 #>    sector_abcd technology     year weighted_production weighted_technology_share #>    <chr>       <chr>         <int>               <dbl>                     <dbl> #>  1 power       hydrocap       2020              46073.                     0.381 #>  2 power       hydrocap       2021              45404.                     0.381 #>  3 power       hydrocap       2022              44734.                     0.381 #>  4 power       hydrocap       2023              44065.                     0.381 #>  5 power       hydrocap       2024              43396.                     0.381 #>  6 power       hydrocap       2025              42726.                     0.381 #>  7 power       renewablescap  2020              60695.                     3.37  #>  8 power       renewablescap  2021              60416.                     3.37  #>  9 power       renewablescap  2022              60138.                     3.37  #> 10 power       renewablescap  2023              59860.                     3.37  #> 11 power       renewablescap  2024              59582.                     3.37  #> 12 power       renewablescap  2025              44619.                     2.98   summarize_weighted_percent_change(master) #> Warning: `summarize_weighted_percent_change()` was deprecated in r2dii.analysis 0.5.0. #> # A tibble: 12 × 4 #>    sector_abcd technology     year weighted_percent_change #>    <chr>       <chr>         <int>                   <dbl> #>  1 power       hydrocap       2020                0        #>  2 power       hydrocap       2021               -0.0873   #>  3 power       hydrocap       2022               -0.175    #>  4 power       hydrocap       2023               -0.262    #>  5 power       hydrocap       2024               -0.349    #>  6 power       hydrocap       2025               -0.436    #>  7 power       renewablescap  2020                0        #>  8 power       renewablescap  2021                0.000439 #>  9 power       renewablescap  2022                0.000877 #> 10 power       renewablescap  2023                0.00132  #> 11 power       renewablescap  2024                0.00175  #> 12 power       renewablescap  2025               -0.0858    summarize_weighted_percent_change(master, use_credit_limit = TRUE) #> # A tibble: 12 × 4 #>    sector_abcd technology     year weighted_percent_change #>    <chr>       <chr>         <int>                   <dbl> #>  1 power       hydrocap       2020                 0       #>  2 power       hydrocap       2021                -0.0789  #>  3 power       hydrocap       2022                -0.158   #>  4 power       hydrocap       2023                -0.237   #>  5 power       hydrocap       2024                -0.316   #>  6 power       hydrocap       2025                -0.395   #>  7 power       renewablescap  2020                 0       #>  8 power       renewablescap  2021                -0.00364 #>  9 power       renewablescap  2022                -0.00729 #> 10 power       renewablescap  2023                -0.0109  #> 11 power       renewablescap  2024                -0.0146  #> 12 power       renewablescap  2025                -0.0898"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_market_share.html","id":null,"dir":"Reference","previous_headings":"","what":"Add targets for production, using the market share approach — target_market_share","title":"Add targets for production, using the market share approach — target_market_share","text":"function calculates portfolio-level production targets, calculated using market share approach applied relevant climate production forecast.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_market_share.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add targets for production, using the market share approach — target_market_share","text":"","code":"target_market_share(   data,   abcd,   scenario,   region_isos = r2dii.data::region_isos,   use_credit_limit = FALSE,   by_company = FALSE,   weight_production = TRUE,   increasing_or_decreasing = r2dii.data::increasing_or_decreasing )"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_market_share.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add targets for production, using the market share approach — target_market_share","text":"data \"data.frame\" like output r2dii.match::prioritize. abcd asset level data frame like r2dii.data::abcd_demo. scenario scenario data frame like r2dii.data::scenario_demo_2020. region_isos data frame like r2dii.data::region_isos (default). use_credit_limit Logical vector length 1. FALSE defaults using column loan_size_outstanding. Set TRUE use column loan_size_credit_limit instead. by_company Logical vector length 1. FALSE defaults outputting production_value portfolio-level. Set TRUE output production_value company-level. weight_production Logical vector length 1. TRUE defaults outputting production, weighted relative loan-size. Set FALSE output unweighted production values. increasing_or_decreasing data frame like r2dii.data::increasing_or_decreasing.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_market_share.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add targets for production, using the market share approach — target_market_share","text":"tibble including summarized columns metric, production, technology_share, percentage_of_initial_production_by_scope scope. by_company = TRUE, output also column name_abcd.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_market_share.html","id":"handling-grouped-data","dir":"Reference","previous_headings":"","what":"Handling grouped data","title":"Add targets for production, using the market share approach — target_market_share","text":"function ignores existing groups outputs ungrouped data.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_market_share.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add targets for production, using the market share approach — target_market_share","text":"","code":"library(r2dii.data) library(r2dii.match)  loanbook <- head(loanbook_demo, 100) abcd <- head(abcd_demo, 100)  matched <- loanbook %>%   match_name(abcd) %>%   prioritize()  # Calculate targets at portfolio level matched %>%   target_market_share(     abcd = abcd,     scenario = scenario_demo_2020,     region_isos = region_isos_demo     ) #> # A tibble: 373 × 10 #>    sector technology  year region scenario_source metric     production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 power  hydrocap    2020 global demo_2020       projected      16990. #>  2 power  hydrocap    2020 global demo_2020       target_cps     16990. #>  3 power  hydrocap    2020 global demo_2020       target_sds     16990. #>  4 power  hydrocap    2020 global demo_2020       target_sps     16990. #>  5 power  hydrocap    2021 global demo_2020       projected      16743. #>  6 power  hydrocap    2021 global demo_2020       target_cps     17004. #>  7 power  hydrocap    2021 global demo_2020       target_sds     17012. #>  8 power  hydrocap    2021 global demo_2020       target_sps     17005. #>  9 power  hydrocap    2022 global demo_2020       projected      16497. #> 10 power  hydrocap    2022 global demo_2020       target_cps     17018. #> # ℹ 363 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>  # Calculate targets at company level matched %>%   target_market_share(   abcd = abcd,   scenario = scenario_demo_2020,   region_isos = region_isos_demo,   by_company = TRUE   ) #> Warning: You've supplied `by_company = TRUE` and `weight_production = TRUE`. #> This will result in company-level results, weighted by the portfolio #> loan size, which is rarely useful. Did you mean to set one of these #> arguments to `FALSE`? #> # A tibble: 1,408 × 11 #>    sector technology  year region scenario_source name_abcd    metric production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>        <chr>       <dbl> #>  1 power  hydrocap    2020 global demo_2020       Giordano, G… proje…     16990. #>  2 power  hydrocap    2020 global demo_2020       Giordano, G… targe…     16990. #>  3 power  hydrocap    2020 global demo_2020       Giordano, G… targe…     16990. #>  4 power  hydrocap    2020 global demo_2020       Giordano, G… targe…     16990. #>  5 power  hydrocap    2021 global demo_2020       Giordano, G… proje…     16743. #>  6 power  hydrocap    2021 global demo_2020       Giordano, G… targe…     17004. #>  7 power  hydrocap    2021 global demo_2020       Giordano, G… targe…     17012. #>  8 power  hydrocap    2021 global demo_2020       Giordano, G… targe…     17005. #>  9 power  hydrocap    2022 global demo_2020       Giordano, G… proje…     16497. #> 10 power  hydrocap    2022 global demo_2020       Giordano, G… targe…     17018. #> # ℹ 1,398 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>  matched %>%   target_market_share(     abcd = abcd,     scenario = scenario_demo_2020,     region_isos = region_isos_demo,     # Calculate unweighted targets     weight_production = FALSE     ) #> # A tibble: 373 × 10 #>    sector technology  year region scenario_source metric     production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 power  hydrocap    2020 global demo_2020       projected     121032. #>  2 power  hydrocap    2020 global demo_2020       target_cps    121032. #>  3 power  hydrocap    2020 global demo_2020       target_sds    121032. #>  4 power  hydrocap    2020 global demo_2020       target_sps    121032. #>  5 power  hydrocap    2021 global demo_2020       projected     119274. #>  6 power  hydrocap    2021 global demo_2020       target_cps    121129. #>  7 power  hydrocap    2021 global demo_2020       target_sds    121187. #>  8 power  hydrocap    2021 global demo_2020       target_sps    121139. #>  9 power  hydrocap    2022 global demo_2020       projected     117515. #> 10 power  hydrocap    2022 global demo_2020       target_cps    121227. #> # ℹ 363 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_sda.html","id":null,"dir":"Reference","previous_headings":"","what":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"function calculates targets CO2 emissions per unit production portfolio-level, otherwise referred \"emissions factors\". uses sectoral-decarbonization approach (SDA) calculate targets.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"","code":"target_sda(   data,   abcd,   co2_intensity_scenario,   use_credit_limit = FALSE,   by_company = FALSE,   region_isos = r2dii.data::region_isos )"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_sda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"data dataframe like output r2dii.match::prioritize(). abcd asset-level data frame like r2dii.data::abcd_demo. co2_intensity_scenario scenario data frame like r2dii.data::co2_intensity_scenario_demo. use_credit_limit Logical vector length 1. FALSE defaults using column loan_size_outstanding. Set TRUE instead use column loan_size_credit_limit. by_company Logical vector length 1. FALSE defaults outputting weighted_production_value portfolio-level. Set TRUE output weighted_production_value company-level. region_isos data frame like r2dii.data::region_isos (default).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_sda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"tibble including summarized columns emission_factor_metric emission_factor_value. by_company = TRUE, output also column name_abcd.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_sda.html","id":"handling-grouped-data","dir":"Reference","previous_headings":"","what":"Handling grouped data","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"function ignores existing groups outputs ungrouped data.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/target_sda.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"","code":"library(r2dii.match) library(r2dii.data)  loanbook <- head(loanbook_demo, 150) abcd <- head(abcd_demo, 100)  matched <- loanbook %>%   match_name(abcd) %>%   prioritize()  # Calculate targets at portfolio level matched %>%   target_sda(    abcd = abcd,    co2_intensity_scenario = co2_intensity_scenario_demo,    region_isos = region_isos_demo    ) #> Warning: Removing rows in abcd where `emission_factor` is NA #> Warning: Found no match between loanbook and abcd. #> # A tibble: 0 × 4 #> # ℹ 4 variables: sector <chr>, year <int>, emission_factor_metric <chr>, #> #   emission_factor_value <dbl>  # Calculate targets at company level matched %>%   target_sda(    abcd = abcd,    co2_intensity_scenario = co2_intensity_scenario_demo,    region_isos = region_isos_demo,    by_company = TRUE    ) #> Warning: Removing rows in abcd where `emission_factor` is NA #> Warning: Found no match between loanbook and abcd. #> # A tibble: 0 × 4 #> # ℹ 4 variables: sector <chr>, year <int>, emission_factor_metric <chr>, #> #   emission_factor_value <dbl>"},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/tidyeval.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy eval helpers — tidyeval","title":"Tidy eval helpers — tidyeval","text":"learn tidy eval use tools, check Metaprogramming section Advanced R.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/reference/tidyeval.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy eval helpers — tidyeval","text":"sym() creates symbol string syms() creates list symbols character vector. enquo() enquos() delay execution one several function arguments. enquo() returns single quoted expression, like blueprint delayed computation. enquos() returns list quoted expressions. expr() quotes new expression locally. mostly useful build new expressions around arguments captured enquo() enquos(): expr(mean(!!enquo(arg), na.rm = TRUE)). as_name() transforms quoted variable name string. Supplying something else quoted variable name error. unlike as_label() also returns single string supports kind R object input, including quoted function calls vectors. purpose summarise object single label. label often suitable default name. know quoted expression contains (instance expressions captured enquo() variable name, call function, unquoted constant), use as_label(). know quoted simple variable name, like enforce , use as_name().","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-development-version","dir":"Changelog","previous_headings":"","what":"r2dii.analysis (development version)","title":"r2dii.analysis (development version)","text":"data_dictionary dataset added define columns dataset used exported functions package (#521). r2dii.analysis now stable (#488). @jacobvjk now maintainer (#519).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-040","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.4.0","title":"r2dii.analysis 0.4.0","text":"CRAN release: 2024-03-26 target_market_share now outputs target_* value years scenario (#481). Complete deprecation ald favour abcd (#466). target_market_share now correctly handles input scenarios hyphen name (#425). target_market_share now handles abcd rows production NA filling 0 (#423).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-030","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.3.0","title":"r2dii.analysis 0.3.0","text":"CRAN release: 2023-10-23 target_sda now uses final year scenario convergence target by_company = TRUE (#445). target_market_share gains argument increasing_or_decreasing (#426).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-021","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.2.1","title":"r2dii.analysis 0.2.1","text":"CRAN release: 2022-11-03 r2dii.analysis transferred new organization: https://github.com/RMI-PACTA/.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-020","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.2.0","title":"r2dii.analysis 0.2.0","text":"CRAN release: 2022-05-05 New argument abcd target_market_share() target_sda supersedes argument ald (#404). target_sda() now outputs data sector values three input datasets (data, ald co2_intensity_scenario) (#390). target_sda() now outputs unweighted emission_factor by_company TRUE (#376). target_sda() gains region_isos argument (#323). target_market_share() now outputs values years ald scenario inputs (#394). target_market_share() now outputs two new columns, percentage_of_initial_production_by_scope scope (ADO #4143).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-0112","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.12","title":"r2dii.analysis 0.1.12","text":"CRAN release: 2021-08-18 target_market_share() now outputs 0 technology_share, companies 0 sectoral production (#306 @Antoine-Lalechere). target_sda() now filters scenario start year consistent ald start year (#346 @waltjl).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-0110","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.10","title":"r2dii.analysis 0.1.10","text":"CRAN release: 2021-07-09 target_market_share() now sets negative smsp targets zero (#336). target_market_share() now outputs sectors present input datasets (#329). target_market_share() now always adds targets green technologies (defined r2dii.data::green_or_brown), even present input data (#318 @Antoine-Lalechere). target_market_share() now correctly groups region calculating technology_share (#315 @Antoine-Lalechere).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-019","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.9","title":"r2dii.analysis 0.1.9","text":"CRAN release: 2021-06-30 target_sda() now outputs sector values present input co2_intensity_scenario data (#308). target_sda() now outputs targets range years input co2_intenstiy_scenario (#307).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-018","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.8","title":"r2dii.analysis 0.1.8","text":"CRAN release: 2021-05-22 target_market_share() now correctly outputs target technology share, line methodology (@georgeharris2deg #277). target_market_share() now correctly projects technology share ‘production / total production’ computing company, unweighted relative loan size (@KapitanKombajn #288). target_market_share() longer outputs columns sector_weighted_production technology_weighted_production. columns internal shouldn’t face users (#291).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-016","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.6","title":"r2dii.analysis 0.1.6","text":"CRAN release: 2021-03-10 target_market_share() now correctly outputs technology_share multiple loans different level company (@ab-bbva #265).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-015","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.5","title":"r2dii.analysis 0.1.5","text":"CRAN release: 2021-01-22 target_market_share() now errors input data unexpected column (@georgeharris2deg #267). target_market_share() now correctly outputs technology_share multiple loans company (@georgeharris2deg #262, @ab-bbva #265).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-014","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.4","title":"r2dii.analysis 0.1.4","text":"CRAN release: 2021-01-05 target_market_share() now correctly outputs unweighted production company, equal ald-production one company multiple loans different size (#255 @georgeharris2deg).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-013","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.3","title":"r2dii.analysis 0.1.3","text":"CRAN release: 2020-12-15 target_market_share() now correctly outputs unweighted production multiple levels exist company (#249).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-012","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.2","title":"r2dii.analysis 0.1.2","text":"CRAN release: 2020-12-05 target_market_share() now outputs weighted_technology_share correctly sums 1 grouped sector, metric scenario (#218). target_market_share() now correctly outputs unweighted production multiple loans exist company (#239). target_market_share() now outputs empty named tibble matching region definitions can found (#236). target_market_share now outputs technologies present ald, even present data (#235). target_sda() now interpolates input scenario file year correctly calculates target, regardless time-horizon ald (#234). Hyperlinks “Get Started” tab website now points correct links (#222 @apmanning). Depend dplyr >= 0.8.5, explicitly. commit version newer dplyr 1 still relatively new, represents major change users initially resist. Relax dependency rlang, mostly driven dynamically recursive dependencies. example, dplyr 0.8.5 depends specific version rlang recent version explicitly depended – suggests explicit rlang unhelpful misleading. New internal data loanbook_stable region_isos_stable make regression tests stable (#227).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-011","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.1","title":"r2dii.analysis 0.1.1","text":"CRAN release: 2020-09-12 Change license MIT. website’s home page now thanks founders. target_market_share() now works expected value column scenario missing value column region. longer results output columns production technology_share type “list” (#203). website now shows News tab.","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-010","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.1.0","title":"r2dii.analysis 0.1.0","text":"CRAN release: 2020-09-03 target_sda() now correctly handles differing country_of_domicile inputs (#171). target_market_share() now outputs technology_share (#184). join_ald_scenario() now returns visibly dev-magrittr (#188 @lionel-). target_market_share() gains weight_production parameter (#181). target_market_share() now correctly use sector_ald column input data argument (#178). target_sda() now automatically filters ald rows emissions_factor values NA (#173). join_ald_scenario() now converts lower case values columns sector_ald technology (#172). target_sda() now aggregates input ald technology plant_location prior calculating targets (@QianFeng2020 #160). target_sda() now errors input data duplicated id_loan (@QianFeng2020 #164). target_sda() gains by_company parameter (#155). target_market_share() now outputs actual aggregated corporate economy. Previously, output , erroneously, normalized starting portfolio value (#158). target_sda() now correctly calculates SDA targets (#153): Targets now calculated using scenario data adjusted corporate economy data. adjusted scenario data also output function along usual metrics. Methodology error fixed, reflected code. Previously, target , incorrectly, calculated multiplying adjusted scenario. Now scenario data added instead. New summarize_weighted_percent_change() allows user calculate new indicator (#141). target_market_share() longer errors combination sector scenario_target_value uniquely identify observation (@georgeharris2deg #142).","code":""},{"path":"https://rmi-pacta.github.io/r2dii.analysis/dev/news/index.html","id":"r2diianalysis-001","dir":"Changelog","previous_headings":"","what":"r2dii.analysis 0.0.1","title":"r2dii.analysis 0.0.1","text":"CRAN release: 2020-06-28 First release CRAN","code":""}]
