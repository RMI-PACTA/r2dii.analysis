<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Indicator Choices: • r2dii.analysis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Indicator Choices:">
<meta property="og:description" content="r2dii.analysis">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2dii.analysis</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.5.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/r2dii-analysis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/target-sda.html">Sectoral Decarbonization Approach (SDA)</a>
    </li>
    <li>
      <a href="../articles/target-market-share.html">Market Share Approach</a>
    </li>
    <li>
      <a href="../articles/production-percent-change.html">Indicator Choices: Weighted Production vs. Weighted Percent Change in Production</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Releases</li>
    <li>
      <a href="https://2degreesinvesting.github.io/posts/2020-09-08-r2dii-analysis-0-1-0-is-now-on-cran/">Version 0.1.0</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/posts/2020-06-29-r2dii-analysis-0-0-1/">Version 0.0.1</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://2degreesinvesting.github.io/r2dii.data">r2dii.data</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.match">r2dii.match</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.analysis">r2dii.analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii.analysis">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="production-percent-change_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Indicator Choices:</h1>
            <h3 class="subtitle">Weighted Production vs. Weighted Percent Change in Production</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/r2dii.analysis/blob/master/vignettes/production-percent-change.Rmd"><code>vignettes/production-percent-change.Rmd</code></a></small>
      <div class="hidden name"><code>production-percent-change.Rmd</code></div>

    </div>

    
    
<div id="weighted-production" class="section level2">
<h2 class="hasAnchor">
<a href="#weighted-production" class="anchor"></a>Weighted Production</h2>
<p>For most intents and purposes, we recommend calculating all targets using the loan weighted production as an indicator. In particular, we define the loan weighted production of a given company, <span class="math inline">\(j\)</span> as: <span class="math display">\[ \overline{p}_{i,j}(t) = p_{i,j}(t) * \dfrac{l_j}{\sum_j l_j}\]</span> where <span class="math inline">\(p_{i,j}\)</span> is the production of company <span class="math inline">\(i\)</span> in technology <span class="math inline">\(j\)</span> and <span class="math inline">\(l_j\)</span> is the loan given to company <span class="math inline">\(j\)</span>.</p>
<p>To calculate portfolio targets, we aggregate this value by summing over every company in the portfolio: <span class="math display">\[ \overline{p}_i (t) = \sum_j \left[  p_{i,j}(t) * \dfrac{l_j}{\sum_j l_j} \right] \]</span></p>
<p>Effectively, this is a loan-weighted average of the production attributed to each company in your portfolio. A significant result of this indicator choice is that small companies (with little production) will be favorably weighted, given that the loan to that company is sufficiently large. This can be useful to reflect large investments into green start-ups.</p>
<p>To calculate the weighted production:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://2degreesinvesting.github.io/r2dii.data/">r2dii.data</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://2degreesinvesting.github.io/r2dii.match/">r2dii.match</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/r2dii.analysis">r2dii.analysis</a></span><span class="op">)</span>

<span class="va">master</span> <span class="op">&lt;-</span> <span class="va">loanbook_demo</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://github.com/2DegreesInvesting/r2dii.match//reference/match_name.html">match_name</a></span><span class="op">(</span><span class="va">ald_demo</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://github.com/2DegreesInvesting/r2dii.match//reference/prioritize.html">prioritize</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/join_ald_scenario.html">join_ald_scenario</a></span><span class="op">(</span>
    ald <span class="op">=</span> <span class="va">ald_demo</span>,
    scenario <span class="op">=</span> <span class="va">scenario_demo_2020</span>,
    region_isos <span class="op">=</span> <span class="va">region_isos_demo</span>
  <span class="op">)</span>

<span class="fu"><a href="../reference/summarize_weighted_production.html">summarize_weighted_production</a></span><span class="op">(</span><span class="va">master</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 138 x 5</span>
<span class="co">#&gt;    sector_ald technology  year weighted_production weighted_technology_share</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt;               &lt;dbl&gt;                     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 automotive electric    2020             973775.                     0.114</span>
<span class="co">#&gt;  2 automotive electric    2021            1018967.                     0.118</span>
<span class="co">#&gt;  3 automotive electric    2022            1064159.                     0.122</span>
<span class="co">#&gt;  4 automotive electric    2023            1109351.                     0.126</span>
<span class="co">#&gt;  5 automotive electric    2024            1154543.                     0.130</span>
<span class="co">#&gt;  6 automotive electric    2025            1199735.                     0.133</span>
<span class="co">#&gt;  7 automotive electric    2026            1244926.                     0.137</span>
<span class="co">#&gt;  8 automotive hybrid      2020            1886042.                     0.221</span>
<span class="co">#&gt;  9 automotive hybrid      2021            1709634.                     0.198</span>
<span class="co">#&gt; 10 automotive hybrid      2022            1533226.                     0.176</span>
<span class="co">#&gt; # … with 128 more rows</span></code></pre></div>
</div>
<div id="weighted-percent-change-in-production" class="section level2">
<h2 class="hasAnchor">
<a href="#weighted-percent-change-in-production" class="anchor"></a>Weighted Percent Change in Production</h2>
<p>On the other-hand, if you’re more keen to understand if the large corporations in your portfolio are planning to make any significant changes, the percent change in production may be a more useful indicator.</p>
<p>For each company, we define the percent change, <span class="math inline">\(\chi_i(t)\)</span>, as compared to the start year, <span class="math inline">\(t_0\)</span>:</p>
<p><span class="math display">\[ \chi_i(t) =  \dfrac{p_{i}(t)-p_{i}(t_0)}{p_i(t_0)} * 100\]</span> where <span class="math inline">\(p_i(t)\)</span> is the indicator (production or capacity) of technology <span class="math inline">\(i\)</span>, and <span class="math inline">\(t0\)</span> is the start year of the analysis.</p>
<p>We aggregate the percent-change in production for each company to the portfolio-level, by using the same loan-weighted average as above. In particular, for each loan <span class="math inline">\(l_j\)</span> to company <span class="math inline">\(j\)</span>, we have: <span class="math display">\[ \overline{\chi_i} = \sum_j \left[ \chi_{i,j} * \dfrac{l_j}{\sum_j l_j} \right]\]</span></p>
<p>It should be noted that the percent change, <span class="math inline">\(\chi\)</span>, is undefined for 0 initial production. Intuitively, this makes sense, since you would require an “infinite percent” build-out to grow to anything from 0. For this reason, any company having 0 initial production is filtered out prior to calculating the percent change indicator.</p>
<p>To calculate the weighted percent change:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># using the master dataset defined in the previous chunk:</span>
<span class="fu"><a href="../reference/summarize_weighted_production.html">summarize_weighted_percent_change</a></span><span class="op">(</span><span class="va">master</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 138 x 4</span>
<span class="co">#&gt;    sector_ald technology  year weighted_percent_change</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt;                   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 automotive electric    2020                  0     </span>
<span class="co">#&gt;  2 automotive electric    2021                  0.0881</span>
<span class="co">#&gt;  3 automotive electric    2022                  0.176 </span>
<span class="co">#&gt;  4 automotive electric    2023                  0.264 </span>
<span class="co">#&gt;  5 automotive electric    2024                  0.352 </span>
<span class="co">#&gt;  6 automotive electric    2025                  0.440 </span>
<span class="co">#&gt;  7 automotive electric    2026                  0.528 </span>
<span class="co">#&gt;  8 automotive hybrid      2020                  1.78  </span>
<span class="co">#&gt;  9 automotive hybrid      2021                  1.43  </span>
<span class="co">#&gt; 10 automotive hybrid      2022                  1.09  </span>
<span class="co">#&gt; # … with 128 more rows</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/jdhoffa/">Jackson Hoffart</a>, <a href="https://github.com/maurolepore/">Mauro Lepore</a>, Klaus Hogedorn, <a href="https://2degrees-investing.org/">2 Degrees Investing Initiative</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
