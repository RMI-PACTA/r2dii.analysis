<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • r2dii.analysis</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2dii.analysis</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.12.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/r2dii-analysis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/target-sda.html">Sectoral Decarbonization Approach (SDA)</a>
    </li>
    <li>
      <a href="../articles/target-market-share.html">Market Share Approach</a>
    </li>
    <li>
      <a href="../articles/production-percent-change.html">Indicator Choices: Weighted Production vs. Weighted Percent Change in Production</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://2degreesinvesting.github.io/#category:r2dii">r2dii blog posts</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.data">r2dii.data</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.match">r2dii.match</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.analysis">r2dii.analysis</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.plot">r2dii.plot</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii.analysis">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/2DegreesInvesting/r2dii.analysis/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="r2diianalysis-development-version" class="section level1">
<h1 class="page-header" data-toc-text="development version">
<a href="#r2diianalysis-development-version" class="anchor"></a>r2dii.analysis (development version)<small> Unreleased </small>
</h1>
</div>
    <div id="r2diianalysis-0112" class="section level1">
<h1 class="page-header" data-toc-text="0.1.12">
<a href="#r2diianalysis-0112" class="anchor"></a>r2dii.analysis 0.1.12<small> 2021-08-18 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now outputs 0 <code>technology_share</code>, for companies with 0 sectoral production (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/306'>#306</a> <a href='https://github.com/Antoine-Lalechere'>@Antoine-Lalechere</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now filters <code>scenario</code> start year to be consistent with <code>ald</code> start year (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/346'>#346</a> <a href='https://github.com/waltjl'>@waltjl</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-0110" class="section level1">
<h1 class="page-header" data-toc-text="0.1.10">
<a href="#r2diianalysis-0110" class="anchor"></a>r2dii.analysis 0.1.10<small> 2021-07-09 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now sets all negative <code>smsp</code> targets to zero (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/336'>#336</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now only outputs <code>sector</code>s that are present in all input datasets (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/329'>#329</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now always adds targets for green technologies (defined by <code><a href="https://github.com/2DegreesInvesting/r2dii.data//reference/green_or_brown.html">r2dii.data::green_or_brown</a></code>), even when not present in input <code>data</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/318'>#318</a> <a href='https://github.com/Antoine-Lalechere'>@Antoine-Lalechere</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly groups by <code>region</code> when calculating <code>technology_share</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/315'>#315</a> <a href='https://github.com/Antoine-Lalechere'>@Antoine-Lalechere</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-019" class="section level1">
<h1 class="page-header" data-toc-text="0.1.9">
<a href="#r2diianalysis-019" class="anchor"></a>r2dii.analysis 0.1.9<small> 2021-06-30 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now only outputs <code>sector</code> values that are present in the input <code>co2_intensity_scenario</code> data (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/308'>#308</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now outputs targets for the range of years in the input <code>co2_intenstiy_scenario</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/307'>#307</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-018" class="section level1">
<h1 class="page-header" data-toc-text="0.1.8">
<a href="#r2diianalysis-018" class="anchor"></a>r2dii.analysis 0.1.8<small> 2021-05-22 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly outputs target <code>technology share</code>, in line with methodology (<a href='https://github.com/georgeharris2deg'>@georgeharris2deg</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/277'>#277</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly projects technology share as ‘production / total production’ when computing by company, unweighted by relative loan size (<a href='https://github.com/KapitanKombajn'>@KapitanKombajn</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/288'>#288</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> no longer outputs columns <code>sector_weighted_production</code> or <code>technology_weighted_production</code>. Those columns are internal so they shouldn’t face users (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/291'>#291</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-016" class="section level1">
<h1 class="page-header" data-toc-text="0.1.6">
<a href="#r2diianalysis-016" class="anchor"></a>r2dii.analysis 0.1.6<small> 2021-03-10 </small>
</h1>
<ul>
<li>
<code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly outputs <code>technology_share</code> with multiple loans at different <code>level</code> to the same company (<a href='https://github.com/ab-bbva'>@ab-bbva</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/265'>#265</a>).</li>
</ul>
</div>
    <div id="r2diianalysis-015" class="section level1">
<h1 class="page-header" data-toc-text="0.1.5">
<a href="#r2diianalysis-015" class="anchor"></a>r2dii.analysis 0.1.5<small> 2021-01-22 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now errors if input <code>data</code> has an unexpected column (<a href='https://github.com/georgeharris2deg'>@georgeharris2deg</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/267'>#267</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly outputs <code>technology_share</code> with multiple loans to the same company (<a href='https://github.com/georgeharris2deg'>@georgeharris2deg</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/262'>#262</a>, <a href='https://github.com/ab-bbva'>@ab-bbva</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/265'>#265</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-014" class="section level1">
<h1 class="page-header" data-toc-text="0.1.4">
<a href="#r2diianalysis-014" class="anchor"></a>r2dii.analysis 0.1.4<small> 2021-01-05 </small>
</h1>
<ul>
<li>
<code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly outputs unweighted production by company, equal to ald-production for one company with multiple loans of different size (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/255'>#255</a> <a href='https://github.com/georgeharris2deg'>@georgeharris2deg</a>).</li>
</ul>
</div>
    <div id="r2diianalysis-013" class="section level1">
<h1 class="page-header" data-toc-text="0.1.3">
<a href="#r2diianalysis-013" class="anchor"></a>r2dii.analysis 0.1.3<small> 2020-12-15 </small>
</h1>
<ul>
<li>
<code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly outputs unweighted production when multiple levels exist for the same company (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/249'>#249</a>).</li>
</ul>
</div>
    <div id="r2diianalysis-012" class="section level1">
<h1 class="page-header" data-toc-text="0.1.2">
<a href="#r2diianalysis-012" class="anchor"></a>r2dii.analysis 0.1.2<small> 2020-12-05 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now outputs <code>weighted_technology_share</code> that correctly sums to 1 when grouped by <code>sector</code>, <code>metric</code> and <code>scenario</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/218'>#218</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly outputs unweighted production when multiple loans exist for the same company (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/239'>#239</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now outputs empty named tibble if no matching region definitions can be found (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/236'>#236</a>).</p></li>
<li><p><code>target_market_share</code> now outputs all technologies present in <code>ald</code>, even if they are not present in <code>data</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/235'>#235</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now interpolates input scenario file by year and correctly calculates target, regardless of the time-horizon of <code>ald</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/234'>#234</a>).</p></li>
<li><p>Hyperlinks on the “Get Started” tab of the website now points to correct links (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/222'>#222</a> <a href='https://github.com/apmanning'>@apmanning</a>).</p></li>
<li><p>Depend on dplyr &gt;= 0.8.5, explicitly. We commit to this version because the newer dplyr 1 is still relatively new, and represents a major change which some users initially resist.</p></li>
<li><p>Relax dependency on rlang, as it is mostly driven dynamically by the by our recursive dependencies. For example, dplyr 0.8.5 depends on a specific version of rlang that is more recent than the version we explicitly depended on – which suggests that being explicit about rlang is unhelpful and misleading.</p></li>
<li><p>New internal data <code>loanbook_stable</code> and <code>region_isos_stable</code> make regression tests more stable (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/227'>#227</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-011" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1">
<a href="#r2diianalysis-011" class="anchor"></a>r2dii.analysis 0.1.1<small> 2020-09-12 </small>
</h1>
<ul>
<li><p>Change license to MIT.</p></li>
<li><p>The website’s home page now thanks founders.</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now works as expected when some value of the column <code>scenario</code> is missing for some value of the column <code>region</code>. It no longer results in output columns <code>production</code> and <code>technology_share</code> of type “list” (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/203'>#203</a>).</p></li>
<li><p>The website now shows the News tab.</p></li>
</ul>
</div>
    <div id="r2diianalysis-010" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#r2diianalysis-010" class="anchor"></a>r2dii.analysis 0.1.0<small> 2020-09-03 </small>
</h1>
<ul>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now correctly handles differing <code>country_of_domicile</code> inputs (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/171'>#171</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now outputs <code>technology_share</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/184'>#184</a>).</p></li>
<li><p><code><a href="../reference/join_ald_scenario.html">join_ald_scenario()</a></code> now returns visibly with dev-magrittr (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/188'>#188</a> <a href='https://github.com/lionel-'>@lionel-</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> gains <code>weight_production</code> parameter (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/181'>#181</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now correctly use <code>sector_ald</code> column from input <code>data</code> argument (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/178'>#178</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now automatically filters out <code>ald</code> rows where the <code>emissions_factor</code> values are <code>NA</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/173'>#173</a>).</p></li>
<li><p><code><a href="../reference/join_ald_scenario.html">join_ald_scenario()</a></code> now converts to lower case the values of the columns <code>sector_ald</code> and <code>technology</code> (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/172'>#172</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now aggregates input <code>ald</code> by <code>technology</code> and <code>plant_location</code> prior to calculating targets (<a href='https://github.com/QianFeng2020'>@QianFeng2020</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/160'>#160</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now errors if input data has any duplicated <code>id_loan</code> (<a href='https://github.com/QianFeng2020'>@QianFeng2020</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/164'>#164</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> gains <code>by_company</code> parameter (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/155'>#155</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> now outputs the actual aggregated corporate economy. Previously, the output would, erroneously, be normalized to the starting portfolio value (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/158'>#158</a>).</p></li>
<li><p><code><a href="../reference/target_sda.html">target_sda()</a></code> now correctly calculates SDA targets (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/153'>#153</a>): Targets are now calculated using scenario data that is adjusted to corporate economy data. The adjusted scenario data is also output by the function along with the usual metrics. Methodology error fixed, and reflected in the code. Previously, the target was, incorrectly, calculated by multiplying the adjusted scenario. Now the scenario data is added instead.</p></li>
<li><p>New <code><a href="../reference/summarize_weighted_production.html">summarize_weighted_percent_change()</a></code> allows user to calculate a new indicator (<a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/141'>#141</a>).</p></li>
<li><p><code><a href="../reference/target_market_share.html">target_market_share()</a></code> no longer errors if the combination of <code>sector</code> and <code>scenario_target_value</code> does not uniquely identify an observation (<a href='https://github.com/georgeharris2deg'>@georgeharris2deg</a> <a href='https://github.com/2DegreesInvesting/r2dii.analysis/issues/142'>#142</a>).</p></li>
</ul>
</div>
    <div id="r2diianalysis-001" class="section level1">
<h1 class="page-header" data-toc-text="0.0.1">
<a href="#r2diianalysis-001" class="anchor"></a>r2dii.analysis 0.0.1<small> 2020-06-28 </small>
</h1>
<ul>
<li>First release on CRAN</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/jdhoffa/'>Jackson Hoffart</a>, <a href='https://github.com/maurolepore/'>Mauro Lepore</a>, Klaus Hogedorn, <a href='https://2degrees-investing.org/'>2 Degrees Investing Initiative</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


